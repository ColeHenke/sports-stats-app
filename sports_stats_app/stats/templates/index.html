{% extends "base.html" %} {% block content %}
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>

<div class="container my-4">
  <div class="text-center mb-3">
    <h2>Stats Table</h2>
    <form
      action="{% url 'index' %}"
      method="post"
      class="d-flex justify-content-center gap-2 mt-3"
    >
      {% csrf_token %}
      <button
        class="btn btn-success"
        type="submit"
        name="button"
        value="by_position"
      >
        By Position
      </button>
      <button
        class="btn btn-secondary"
        type="submit"
        name="button"
        value="by_points"
      >
        By Points
      </button>
      <button
        class="btn btn-primary"
        type="submit"
        name="button"
        value="by_rebounds"
      >
        By Rebounds
      </button>
    </form>
  </div>
  <table class="table table-striped table-hover" id="statsTable">
    <thead class="table-dark">
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Rank</th>
        <th scope="col">Position</th>
        <th scope="col">Points Per Game</th>
        <th scope="col">Rebounds Per Game</th>
        <th scope="col">Efficiency</th>
      </tr>
    </thead>
    <tbody>
      {% for player in players %}
      <tr>
        <td>{{ player.full_name }}</td>
        <td>{{ player.rank }}</td>
        <td>{{ player.position }}</td>
        <td>{{ player.pts|floatformat:1 }}</td>
        <td>{{ player.reb|floatformat:1 }}</td>
        <td>{{ player.efficiency|floatformat:1 }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5">Click on a filter to load some players!!</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
{% endblock content %}
