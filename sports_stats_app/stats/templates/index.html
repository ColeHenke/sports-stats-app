{% extends "base.html" %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
    .live-scores-container {
        position: relative;
        margin-top: 1rem; /* Space below the navbar */
        padding: 0 1rem;
        overflow-x: auto; /* Enables horizontal scrolling */
        white-space: nowrap; /* Keeps cards in a single line */
    }
    .score-card {
        display: inline-block; /* Cards aligned horizontally */
        width: 300px; /* Fixed width for each card */
        margin-right: 20px; /* Space between cards */
        background-color: #fff;
        border: 1px solid #ccc;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        border-radius: 0.5rem;
    }
    .score-header {
        background-color: #007bff; /* Bootstrap primary color for header */
        color: #fff;
        padding: 0.75rem 1.25rem;
        border-top-left-radius: 0.5rem;
        border-top-right-radius: 0.5rem;
    }
    .card-body {
        padding: 0.75rem 1.25rem;
    }
</style>
<div class="container-fluid">
    <div class="live-scores-container">
        <h4 class="text-center">NBA Live Scores</h4>
        {% if error_message %}
            <div class="alert alert-danger">{{ error_message }}</div>
        {% endif %}
        {% if game_data %}
            {% for game in game_data %}
                <div class="score-card">
                    <div class="score-header">
                        {{ game.home_team }} vs {{ game.away_team }}
                    </div>
                    <div class="card-body">
                        <p>Score: {{ game.home_score }} - {{ game.away_score }}</p>
                        <p>Status: {{ game.status }}</p>
                        <p>Series: {{ game.series_text }}</p>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <p>No live game data available at this moment.</p>
        {% endif %}
    </div>
</div>

<div class="container my-4">
    <h2 class="text-center mb-3">Player Stats Table</h2>
    <table class="table table-striped table-hover" id="statsTable">
        <thead class="table-dark">
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Rank</th>
                <th scope="col">Position</th>
                <th scope="col">Points Per Game</th>
                <th scope="col">Rebounds Per Game</th>
            </tr>
        </thead>
        <tbody>
            {% for player in players %}
            <tr>
                <td>{{ player.full_name }}</td>
                <td>{{ player.rank }}</td>
                <td>{{ player.position }}</td>
                <td>{{ player.pts|floatformat:1 }}</td>
                <td>{{ player.reb|floatformat:1 }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5">No players found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
{% endblock content %}
